```mermaid
flowchart TD
    A[시작] --> B[설정]
    B --> C[테케수]
    C --> D{반복}
    D -- 예 --> E[N]
    E --> F[배열생성]
    F --> G[주가입력]
    G --> H[데이터초기]
    H --> I[최대값]
    I --> J[역순탐색]
    J --> K[가격비교]
    K -- 참 --> L[최대값갱]
    K -- 거짓 --> M[배열갱신]
    L --> M
    M --> J
    J -- 완료 --> N[총수익]
    N --> O[순차탐색]
    O --> P[수익조건]
    P -- 참 --> Q[수익합산]
    P -- 거짓 --> O
    Q --> O
    O -- 완료 --> R[결과출력]
    R --> D
    D -- 아니오 --> S[종료]
```

### 시간 복잡도
*   **O(T * N)**
    *   `T`는 테스트 케이스의 수이고, `N`은 각 테스트 케이스의 주식 가격 수입니다.
    *   각 테스트 케이스 내에서 주식 가격 입력, 최대값 갱신, 총 수익 계산 과정이 각각 `N`에 비례하는 선형 시간을 소비합니다.
    *   따라서 전체 시간 복잡도는 `T`에 `N`을 곱한 값에 비례합니다.

### 공간 복잡도
*   **O(N)**
    *   각 테스트 케이스마다 `N`개의 `pair<int, int>`를 저장하는 `stock` 벡터를 사용합니다.
    *   `stock` 벡터가 `N`개의 데이터를 저장하므로, `N`에 비례하는 공간을 사용합니다.